{"callee_method_ids":[1346,1349],"callee_method_names":["Group.getChainId","String.isEmpty","Chain.getId","Structure.getChain","Chain.setId","Group.getChain","Chain.setName","Chain.getName","Chain.getEntityInfo","Structure.addEntityInfo","Structure.getEntityById","EntityInfo.getMolId","Structure.addEntityInfo","EntityInfo.addChain","Chain.setEntityInfo","Chain.setSeqResGroups","Chain.getSeqResGroups","Chain.setSeqMisMatches","Chain.getSeqMisMatches","Structure.addChain","Group.clone","Chain.addGroup"],"method_name":"StructureTools.addGroupToStructure","method_implementation":"{\n    // Find or create the chain\n    String chainId = g.getChainId();\n    assert !chainId.isEmpty();\n    Chain chain;\n    if (chainGuess != null && chainGuess.getId().equals(chainId)) {\n        // previously guessed chain\n        chain = chainGuess;\n    } else {\n        // Try to guess\n        chain = s.getChain(chainId, model);\n        if (chain == null) {\n            // no chain found\n            chain = new ChainImpl();\n            chain.setId(chainId);\n            Chain oldChain = g.getChain();\n            chain.setName(oldChain.getName());\n            EntityInfo oldEntityInfo = oldChain.getEntityInfo();\n            EntityInfo newEntityInfo;\n            if (oldEntityInfo == null) {\n                newEntityInfo = new EntityInfo();\n                s.addEntityInfo(newEntityInfo);\n            } else {\n                newEntityInfo = s.getEntityById(oldEntityInfo.getMolId());\n                if (newEntityInfo == null) {\n                    newEntityInfo = new EntityInfo(oldEntityInfo);\n                    s.addEntityInfo(newEntityInfo);\n                }\n            }\n            newEntityInfo.addChain(chain);\n            chain.setEntityInfo(newEntityInfo);\n            // TODO Do the seqres need to be cloned too? -SB 2016-10-7\n            chain.setSeqResGroups(oldChain.getSeqResGroups());\n            chain.setSeqMisMatches(oldChain.getSeqMisMatches());\n            s.addChain(chain, model);\n        }\n    }\n    // Add cloned group\n    if (clone) {\n        g = (Group) g.clone();\n    }\n    chain.addGroup(g);\n    return chain;\n}","repo_id":"9","comment":"/**\n * Adds a particular group to a structure. A new chain will be created if necessary.\n *\n * <p>When adding multiple groups, pass the return value of one call as the\n * chainGuess parameter of the next call for efficiency.\n * <pre>\n * Chain guess = null;\n * for(Group g : groups) {\n *     guess = addGroupToStructure(s, g, guess );\n * }\n * <\/pre>\n * @param s structure to receive the group\n * @param g group to add\n * @param chainGuess (optional) If not null, should be a chain from s. Used\n *  to improve performance when adding many groups from the same chain\n * @param clone Indicates whether the input group should be cloned before\n *  being added to the new chain\n * @return the chain g was added to\n */\n","repo_name":"biojava-master/","id":1024,"method_signature":"Chain addGroupToStructure(Structure, Group, int, Chain, boolean)"}