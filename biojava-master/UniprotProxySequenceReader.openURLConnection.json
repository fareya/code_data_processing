{"callee_method_names":["URL.openConnection","HttpURLConnection.setRequestProperty","HttpURLConnection.setInstanceFollowRedirects","HttpURLConnection.setConnectTimeout","HttpURLConnection.setReadTimeout","HttpURLConnection.getResponseCode","HttpURLConnection.getHeaderField","String.equals","URL.toString","HttpURLConnection.getHeaderField","HttpURLConnection.disconnect","URL.openConnection","HttpURLConnection.setRequestProperty","HttpURLConnection.addRequestProperty","HttpURLConnection.setInstanceFollowRedirects","HttpURLConnection.setConnectTimeout","HttpURLConnection.setReadTimeout","HttpURLConnection.connect","HttpURLConnection.getResponseCode","Logger.info","HttpURLConnection.connect"],"method_name":"UniprotProxySequenceReader.openURLConnection","method_implementation":"{\n    // This method should be moved to a utility class in BioJava 5.0\n    final int timeout = 5000;\n    final String useragent = \"BioJava\";\n    HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n    conn.setRequestProperty(\"User-Agent\", useragent);\n    conn.setInstanceFollowRedirects(true);\n    conn.setConnectTimeout(timeout);\n    conn.setReadTimeout(timeout);\n    int status = conn.getResponseCode();\n    while (status == HttpURLConnection.HTTP_MOVED_TEMP || status == HttpURLConnection.HTTP_MOVED_PERM || status == HttpURLConnection.HTTP_SEE_OTHER) {\n        // Redirect!\n        String newUrl = conn.getHeaderField(\"Location\");\n        if (newUrl.equals(url.toString())) {\n            throw new IOException(\"Cyclic redirect detected at \" + newUrl);\n        }\n        // Preserve cookies\n        String cookies = conn.getHeaderField(\"Set-Cookie\");\n        // open the new connection again\n        url = new URL(newUrl);\n        conn.disconnect();\n        conn = (HttpURLConnection) url.openConnection();\n        if (cookies != null) {\n            conn.setRequestProperty(\"Cookie\", cookies);\n        }\n        conn.addRequestProperty(\"User-Agent\", useragent);\n        conn.setInstanceFollowRedirects(true);\n        conn.setConnectTimeout(timeout);\n        conn.setReadTimeout(timeout);\n        conn.connect();\n        status = conn.getResponseCode();\n        logger.info(\"Redirecting from {} to {}\", url, newUrl);\n    }\n    conn.connect();\n    return conn;\n}","repo_id":"9","comment":"/**\n * Open a URL connection.\n *\n * Follows redirects.\n * @param url\n * @throws IOException\n */\n","repo_name":"biojava-master/","id":3136,"method_signature":"HttpURLConnection openURLConnection(URL)"}