{"callee_method_names":["Matrix4d.transform","Matrix4d.set","Matrix4d.mul","Matrix4d.transform"],"method_name":"CrystalCell.transfToOriginCellCrystal","method_implementation":"{\n    Matrix4d[] transformed = new Matrix4d[ops.length];\n    for (int j = 0; j < ops.length; j++) {\n        Matrix4d op = ops[j];\n        // transform the reference point\n        Point3d xXtal = new Point3d(reference);\n        op.transform(xXtal);\n        // Calculate unit cell of transformed reference\n        int x = (int) Math.floor(xXtal.x);\n        int y = (int) Math.floor(xXtal.y);\n        int z = (int) Math.floor(xXtal.z);\n        Matrix4d translation = new Matrix4d();\n        translation.set(new Vector3d(-x, -y, -z));\n        // Compose op with an additional translation operator\n        translation.mul(op);\n        Point3d ref2 = new Point3d(reference);\n        translation.transform(ref2);\n        transformed[j] = translation;\n    }\n    return transformed;\n}","repo_id":"9","comment":"/**\n * @param ops Set of operations in crystal coordinates\n * @param reference Reference point, which should be in the unit cell after\n *  each operation (also in crystal coordinates)\n * @return A set of crystal operators with equivalent rotation to the\n *  inputs, but with translation such that the reference point would fall\n *  within the unit cell\n */\n","repo_name":"biojava-master/","id":1468,"method_signature":"Matrix4d[] transfToOriginCellCrystal(Matrix4d[], Tuple3d)"}