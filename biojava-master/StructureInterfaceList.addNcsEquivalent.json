{"callee_method_names":["StructureInterfaceCluster.addMember","List<StructureInterfaceCluster>.add","List<StructureInterfaceCluster>.stream","double.getMembers","SparseVector.equals","Optional<StructureInterfaceCluster>.isPresent","Optional<StructureInterfaceCluster>.get","Logger.warn","StructureInterfaceCluster.addMember","StructureInterfaceCluster.addMember","List<StructureInterfaceCluster>.add"],"method_name":"StructureInterfaceList.addNcsEquivalent","method_implementation":"{\n    this.add(interfaceNew);\n    if (clustersNcs == null) {\n        clustersNcs = new ArrayList<>();\n    }\n    if (interfaceRef == null) {\n        StructureInterfaceCluster newCluster = new StructureInterfaceCluster();\n        newCluster.addMember(interfaceNew);\n        clustersNcs.add(newCluster);\n        return;\n    }\n    Optional<StructureInterfaceCluster> clusterRef = clustersNcs.stream().filter(r -> r.getMembers().stream().anyMatch(c -> c.equals(interfaceRef))).findFirst();\n    if (clusterRef.isPresent()) {\n        clusterRef.get().addMember(interfaceNew);\n        return;\n    }\n    logger.warn(\"The specified reference interface, if not null, should have been added to this set previously. \" + \"Creating new cluster and adding both interfaces. This is likely a bug.\");\n    this.add(interfaceRef);\n    StructureInterfaceCluster newCluster = new StructureInterfaceCluster();\n    newCluster.addMember(interfaceRef);\n    newCluster.addMember(interfaceNew);\n    clustersNcs.add(newCluster);\n}","repo_id":"9","comment":"/**\n * Add an interface to the list, possibly defining it as NCS-equivalent to an interface already in the list.\n * Used to build up the NCS clustering.\n * @param interfaceNew\n *          an interface to be added to the list.\n * @param interfaceRef\n *          interfaceNew will be added to the cluster which contains interfaceRef.\n *          If interfaceRef is null, new cluster will be created for interfaceNew.\n * @since 5.0.0\n */\n","repo_name":"biojava-master/","id":906,"method_signature":"void addNcsEquivalent(StructureInterface, StructureInterface)"}