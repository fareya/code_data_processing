{"callee_method_names":["ArrayList.size","StringBuilder.append","StringBuilder.append","StringBuilder.append","StringBuilder.append","ArrayList.size","StringBuilder.append","Atom[].getAccession","StringBuilder.append","Atom[].getSubSequence","StringBuilder.append","ArrayList.size","StringBuilder.append","Atom[].getAccession","StringBuilder.append","Atom[].getSubSequence","StringBuilder.append","ArrayList.size","StringBuilder.append","StringBuilder.toString"],"method_name":"MultipleSequenceAlignment.toString","method_implementation":"{\n    // TODO handle circular alignments\n    StringBuilder s = (header == null) ? new StringBuilder() : new StringBuilder(header);\n    if (webDisplay && sequences.size() == 2) {\n        s.append(\"<div><pre>\");\n    }\n    width = Math.max(1, width);\n    if (interlaced) {\n        String aligIndFormat = \"%-\" + Math.max(1, width / 2) + \"d %\" + Math.max(1, width - (width / 2) - 1) + \"d%n\";\n        for (int i = 0; i < getLength(); i += width) {\n            int start = i + 1, end = Math.min(getLength(), i + width);\n            if (i > 0) {\n                s.append(String.format(\"%n\"));\n            }\n            if (aligIndices) {\n                if (end < i + width) {\n                    int line = end - start + 1;\n                    aligIndFormat = \"%-\" + Math.max(1, line / 2) + \"d %\" + Math.max(1, line - (line / 2) - 1) + \"d%n\";\n                }\n                if (idFormat != null) {\n                    s.append(String.format(idFormat, \"\"));\n                }\n                s.append(String.format(aligIndFormat, start, end));\n            }\n            int counter = 0;\n            for (S as : sequences) {\n                counter++;\n                if (webDisplay && sequences.size() == 2) {\n                    printSequenceAlignmentWeb(s, counter, idFormat, start, end);\n                } else {\n                    if (idFormat != null) {\n                        s.append(String.format(idFormat, as.getAccession()));\n                    }\n                    s.append(as.getSubSequence(start, end).getSequenceAsString());\n                    s.append(String.format(\"%n\"));\n                }\n                if (aligConservation && sequences.size() == 2 && counter == 1) {\n                    printConservation(s, idFormat, start, end, webDisplay);\n                }\n            }\n        }\n    } else {\n        for (S as : sequences) {\n            if (idFormat != null) {\n                s.append(String.format(idFormat, as.getAccession()));\n            }\n            for (int i = 0; i < getLength(); i += width) {\n                int start = i + 1, end = Math.min(getLength(), i + width);\n                s.append(as.getSubSequence(start, end).getSequenceAsString());\n                s.append(String.format(\"%n\"));\n            }\n        }\n    }\n    if (webDisplay && aligConservation && sequences.size() == 2) {\n        s.append(IOUtils.getPDBLegend());\n    }\n    return s.toString();\n}","repo_id":"9","comment":"// creates formatted String\n","repo_name":"biojava-master/","id":2679,"method_signature":"String toString(int, String, String, boolean, boolean, boolean, boolean)"}