{"callee_method_names":["Matrix4d.set","Matrix4d.invert","AxisAngle4d.set","Matrix4d.set"],"method_name":"TestUnitQuaternions.testOrientation","method_implementation":"{\n    // Get points from a structure. It is difficult to generate points\n    // with no bias in their distribution (too uniform, ie).\n    Structure pdb = StructureIO.getStructure(\"4hhb.A\");\n    Point3d[] cloud = Calc.atomsToPoints(StructureTools.getRepresentativeAtomArray(pdb));\n    // Center the cloud at the origin\n    CalcPoint.center(cloud);\n    // Orient its principal axes to the coordinate axis\n    Quat4d orientation = UnitQuaternions.orientation(cloud);\n    Matrix4d transform = new Matrix4d();\n    transform.set(orientation);\n    transform.invert();\n    CalcPoint.transform(transform, cloud);\n    // The orientation found now should be 0 (it has been re-oriented)\n    orientation = UnitQuaternions.orientation(cloud);\n    AxisAngle4d axis = new AxisAngle4d();\n    axis.set(orientation);\n    // No significant rotation\n    assertEquals(orientation.x, 0.0, 0.01);\n    assertEquals(orientation.y, 0.0, 0.01);\n    assertEquals(orientation.z, 0.0, 0.01);\n    assertEquals(axis.angle, 0.0, 0.01);\n    // Now try to recover an orientation\n    Quat4d quat = new Quat4d(0.418, 0.606, 0.303, 0.606);\n    Matrix4d mat = new Matrix4d();\n    mat.set(quat);\n    CalcPoint.transform(mat, cloud);\n    orientation = UnitQuaternions.orientation(cloud);\n    // Test recovering the quaternion (q and -q same rotation)\n    assertEquals(Math.abs(orientation.x), quat.x, 0.01);\n    assertEquals(Math.abs(orientation.y), quat.y, 0.01);\n    assertEquals(Math.abs(orientation.z), quat.z, 0.01);\n    assertEquals(Math.abs(orientation.w), quat.w, 0.01);\n}","repo_id":"9","comment":"/**\n * Test {@link UnitQuaternions#orientation(javax.vecmath.Point3d[])}.\n * <p>\n * Tests the identity orientation, orientation around one coordinate axis\n * and orientation around a non-coordinate axis.\n *\n * @throws StructureException\n * @throws IOException\n */\n","repo_name":"biojava-master/","id":2310,"method_signature":"void testOrientation()"}