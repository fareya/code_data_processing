{"callee_method_names":["String.length","StringBuilder.length","String.toUpperCase","Logger.info","StringBuilder.indexOf","StringBuilder.indexOf","StringBuilder.replace","String.length","Logger.info","StringBuilder.toString","Logger.error","StringBuilder.toString"],"method_name":"UniprotProxySequenceReader.getUniprotXML","method_implementation":"{\n    StringBuilder sb = new StringBuilder();\n    // try in cache\n    if (uniprotDirectoryCache != null && uniprotDirectoryCache.length() > 0) {\n        sb = fetchFromCache(accession);\n    }\n    // http://www.uniprot.org/uniprot/?query=SORBIDRAFT_03g027040&format=xml\n    if (sb.length() == 0) {\n        String uniprotURL = getUniprotbaseURL() + \"/uniprot/\" + accession.toUpperCase() + \".xml\";\n        logger.info(\"Loading: {}\", uniprotURL);\n        sb = fetchUniprotXML(uniprotURL);\n        //strip out name space stuff to make it easier on xpath\n        int index = sb.indexOf(\"xmlns=\");\n        if (index != -1) {\n            int lastIndex = sb.indexOf(\">\", index);\n            sb.replace(index, lastIndex, \"\");\n        }\n        if (uniprotDirectoryCache != null && uniprotDirectoryCache.length() > 0)\n            writeCache(sb, accession);\n    }\n    logger.info(\"Load complete\");\n    try {\n        //       logger.debug(sb.toString());\n        Document document = XMLHelper.inputStreamToDocument(new ByteArrayInputStream(sb.toString().getBytes()));\n        return document;\n    } catch (SAXException | ParserConfigurationException e) {\n        logger.error(\"Exception on xml parse of: {}\", sb.toString());\n    }\n    return null;\n}","repo_id":"9","comment":"/**\n * @param accession\n * @return\n * @throws IOException\n */\n","repo_name":"biojava-master/","id":3135,"method_signature":"Document getUniprotXML(String)"}