{"callee_method_ids":[1770,1768],"callee_method_names":["String.trim","String.substring","PDBHeader.setClassification","String.substring","DateFormat.parse","PDBHeader.setDepDate","Logger.info","String.substring","Logger.debug","String.isBlank","Logger.warn","Structure.setPdbId","PDBHeader.setPdbId","String.equals","String.substring","Logger.warn"],"method_name":"PDBFileParser.pdb_HEADER_Handler","method_implementation":"{\n    String classification = null;\n    String deposition_date = null;\n    String pdbCode = null;\n    int len = line.trim().length();\n    if (len > 10) {\n        classification = line.substring(10, min(len, 50)).trim();\n        pdbHeader.setClassification(classification);\n    }\n    if (len > 50) {\n        deposition_date = line.substring(50, min(len, 59)).trim();\n        try {\n            Date dep = dateFormat.parse(deposition_date);\n            pdbHeader.setDepDate(dep);\n        } catch (ParseException e) {\n            logger.info(\"Could not parse deposition date string '\" + deposition_date + \"'. Will continue without deposition date\");\n        }\n    }\n    if (len > 62) {\n        pdbCode = line.substring(62, min(len, 66)).trim();\n        pdbId = pdbCode;\n        logger.debug(\"Parsing entry {}\", pdbId);\n        PdbId pdbIdToSet;\n        if (pdbCode.isBlank()) {\n            pdbIdToSet = null;\n        } else {\n            try {\n                pdbIdToSet = new PdbId(pdbCode);\n            } catch (IllegalArgumentException e) {\n                logger.warn(\"Malformed PDB ID {}. setting PdbId to null\", pdbCode);\n                pdbIdToSet = null;\n            }\n        }\n        structure.setPdbId(pdbIdToSet);\n        pdbHeader.setPdbId(pdbIdToSet);\n    }\n    //*really* old files (you'll need to hunt to find these as they\n    //should have been remediated) have headers like below. Plus the\n    //pdbId at positions 72-76 is present in every line\n    //HEADER    PROTEINASE INHIBITOR (TRYPSIN)          05-OCT-84   5PTI      5PTI   3\n    //HEADER    TRANSFERASE (ACYLTRANSFERASE)           02-SEP-92   1LAC      1LAC   2\n    if (len > 66) {\n        if (pdbId.equals(line.substring(72, 76))) {\n            isLegacyFormat = true;\n            logger.warn(pdbId + \" is a LEGACY entry - this will most likely not parse correctly.\");\n        }\n    }\n}","repo_id":"9","comment":"/**\n * \t Handler for\n * \t HEADER Record Format\n * \t <pre>\n * \t COLUMNS        DATA TYPE       FIELD           DEFINITION\n * \t ----------------------------------------------------------------------------------\n * \t 1 -  6        Record name     \"HEADER\"\n * \t 11 - 50        String(40)      classification  Classifies the molecule(s)\n * \t 51 - 59        Date            depDate         Deposition date.  This is the date\n * \t the coordinates were received by\n * \t the PDB\n * \t 63 - 66        IDcode          idCode          This identifier is unique within PDB\n * \t<\/pre>\n */\n","repo_name":"biojava-master/","id":1162,"method_signature":"void pdb_HEADER_Handler(String)"}