{"callee_method_names":["Pattern.matcher","Matcher.find","Matcher.group","String.contains","String.substring","String.length","String.substring","String.contains","String.split","String.substring","Logger.debug","StringBuilder.append","Matcher.start","Matcher.end","String.length","StringBuilder.append","String.length","StringBuilder.toString"],"method_name":"DownloadChemCompProvider.expandPathUrlTemplate","method_implementation":"{\n    Matcher m = CCD_ID_TEMPLATE_REGEX.matcher(templateStr);\n    StringBuilder output = new StringBuilder();\n    int lastIndex = 0;\n    while (m.find()) {\n        String repString = ccdId;\n        String indicesStr = m.group(1);\n        try {\n            if (indicesStr == null) {\n                // no substringing\n                repString = ccdId;\n            } else if (!indicesStr.contains(\"_\")) {\n                // left/right substring\n                int idx = Integer.parseInt(indicesStr);\n                if (idx < 0) {\n                    // right substring\n                    repString = ccdId.substring(ccdId.length() + idx);\n                } else {\n                    // left substring\n                    repString = ccdId.substring(0, idx);\n                }\n            } else if (indicesStr.contains(\"_\")) {\n                // start and end index\n                String[] tokens = indicesStr.split(\"_\");\n                int begIdx = Integer.parseInt(tokens[0]);\n                int endIdx = Integer.parseInt(tokens[1]);\n                repString = ccdId.substring(begIdx, endIdx);\n            }\n        } catch (IndexOutOfBoundsException e) {\n            // we don't set repString, it keeps original value ccdId\n            logger.debug(\"Indices included in path URL template {} are out of bounds for string {}\", templateStr, ccdId);\n        }\n        output.append(templateStr, lastIndex, m.start()).append(repString);\n        lastIndex = m.end();\n        // TODO when we upgrade to java 11, use the new methods introduced in java 9, see https://stackoverflow.com/questions/9605716/java-regular-expression-find-and-replace\n    }\n    if (lastIndex < templateStr.length()) {\n        output.append(templateStr, lastIndex, templateStr.length());\n    }\n    return output.toString();\n}","repo_id":"9","comment":"/**\n * Expands the given path URL template, replacing the placeholders as specified in {@link #setChemCompPathUrlTemplate(String)}\n * by the ccdId given (or its substrings, if indices are present in the template)\n * @param templateStr the template string with placeholders for ccd ids\n * @param ccdId the ccd id to replace (in full or a substring)\n * @return the input templateStr with placeholders replaced\n */\n","repo_name":"biojava-master/","id":1099,"method_signature":"String expandPathUrlTemplate(String, String)"}