{"callee_method_ids":[1280,1278,1284,1282],"callee_method_names":["MmtfSummaryDataBean.setAllAtoms","MmtfSummaryDataBean.setAllChains","MmtfSummaryDataBean.setChainIdToIndexMap","Structure.nrModels","Structure.getModel","List<Chain>.addAll","Chain.getId","Map<String, Integer>.containsKey","Map<String, Integer>.put","Chain.getAtomGroups","List<Atom>.add","Atom.getBonds","Atom.getBonds","MmtfSummaryDataBean.setNumBonds"],"method_name":"MmtfUtils.getStructureInfo","method_implementation":"{\n    MmtfSummaryDataBean mmtfSummaryDataBean = new MmtfSummaryDataBean();\n    // Get all the atoms\n    List<Atom> theseAtoms = new ArrayList<>();\n    List<Chain> allChains = new ArrayList<>();\n    Map<String, Integer> chainIdToIndexMap = new LinkedHashMap<>();\n    int chainCounter = 0;\n    int bondCount = 0;\n    mmtfSummaryDataBean.setAllAtoms(theseAtoms);\n    mmtfSummaryDataBean.setAllChains(allChains);\n    mmtfSummaryDataBean.setChainIdToIndexMap(chainIdToIndexMap);\n    for (int i = 0; i < structure.nrModels(); i++) {\n        List<Chain> chains = structure.getModel(i);\n        allChains.addAll(chains);\n        for (Chain chain : chains) {\n            String idOne = chain.getId();\n            if (!chainIdToIndexMap.containsKey(idOne)) {\n                chainIdToIndexMap.put(idOne, chainCounter);\n            }\n            chainCounter++;\n            for (Group g : chain.getAtomGroups()) {\n                for (Atom atom : getAtomsForGroup(g)) {\n                    theseAtoms.add(atom);\n                    // If both atoms are in the group\n                    if (atom.getBonds() != null) {\n                        bondCount += atom.getBonds().size();\n                    }\n                }\n            }\n        }\n    }\n    // Assumes all bonds are referenced twice\n    mmtfSummaryDataBean.setNumBonds(bondCount / 2);\n    return mmtfSummaryDataBean;\n}","repo_id":"9","comment":"/**\n * Get summary information for the structure.\n * @param structure the structure for which to get the information.\n */\n","repo_name":"biojava-master/","id":1256,"method_signature":"MmtfSummaryDataBean getStructureInfo(Structure)"}