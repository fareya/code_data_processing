{"callee_method_names":["File.exists","String.endsWith","File.list","Logger.error","File.toString","int.getMessage"],"method_name":"DownloadChemCompProvider.checkDoFirstInstall","method_implementation":"{\n    if (!downloadAll) {\n        return;\n    }\n    // this makes sure there is a file separator between every component,\n    // if path has a trailing file separator or not, it will work for both cases\n    File dir = new File(getPath(), CHEM_COMP_CACHE_DIRECTORY);\n    File f = new File(dir, \"components.cif.gz\");\n    if (!f.exists()) {\n        downloadAllDefinitions();\n    } else {\n        // file exists.. did it get extracted?\n        FilenameFilter filter = (dir1, file) -> file.endsWith(\".cif.gz\");\n        String[] files = dir.list(filter);\n        if (files.length < 500) {\n            // not all did get unpacked\n            try {\n                split();\n            } catch (IOException e) {\n                logger.error(\"Could not split file {} into individual chemical component files. Error: {}\", f.toString(), e.getMessage());\n            }\n        }\n    }\n}","repo_id":"9","comment":"/**\n * Checks if the chemical components already have been installed into the PDB directory.\n * If not, will download the chemical components definitions file and split it up into small\n * subfiles.\n */\n","repo_name":"biojava-master/","id":1095,"method_signature":"void checkDoFirstInstall()"}