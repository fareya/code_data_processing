{"callee_method_names":["CeSymmResult.isRefined","CeSymmResult.getMultipleAlignment","MultipleAlignment.getEnsemble","MultipleAlignmentEnsemble.getMultipleAlignment","MultipleAlignment.getBlock","List<Atom[]>.add","MultipleAlignmentEnsemble.setAtomArrays","Block.size","Block.getStartResidue","Block.length","Block.getAlignRes","Block.getAlignRes"],"method_name":"SymmetryTools.toRepeatsAlignment","method_implementation":"{\n    if (!result.isRefined())\n        throw new IllegalArgumentException(\"The symmetry result \" + \"is not refined, repeats cannot be defined\");\n    MultipleAlignment msa = result.getMultipleAlignment();\n    MultipleAlignmentEnsemble newEnsemble = msa.getEnsemble().clone();\n    List<Structure> repSt = SymmetryTools.divideStructure(result);\n    MultipleAlignment repeats = newEnsemble.getMultipleAlignment(0);\n    Block block = repeats.getBlock(0);\n    List<Atom[]> atomArrays = new ArrayList<Atom[]>();\n    for (Structure s : repSt) atomArrays.add(StructureTools.getRepresentativeAtomArray(s));\n    newEnsemble.setAtomArrays(atomArrays);\n    for (int su = 0; su < block.size(); su++) {\n        Integer start = block.getStartResidue(su);\n        // Normalize aligned residues\n        for (int res = 0; res < block.length(); res++) {\n            Integer residue = block.getAlignRes().get(su).get(res);\n            if (residue != null)\n                residue -= start;\n            block.getAlignRes().get(su).set(res, residue);\n        }\n    }\n    return repeats;\n}","repo_id":"9","comment":"/**\n * Method that converts a symmetry alignment into an alignment of the\n * repeats only, as new independent structures.\n * <p>\n * This method changes the structure identifiers, the Atom arrays and\n * re-scles the aligned residues in the Blocks corresponding to those\n * changes.\n * <p>\n * Application: display superimposed repeats in Jmol.\n *\n * @param result\n *            CeSymmResult of symmetry\n * @return MultipleAlignment of the repeats\n * @throws StructureException\n */\n","repo_name":"biojava-master/","id":2044,"method_signature":"MultipleAlignment toRepeatsAlignment(CeSymmResult)"}