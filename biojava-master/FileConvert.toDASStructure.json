{"callee_method_ids":[1774],"callee_method_names":["Structure.getPDBHeader","XMLWriter.openTag","XMLWriter.attribute","Structure.getPDBCode","XMLWriter.attribute","Structure.getPDBCode","DateFormat.format","PDBHeader.getModDate","XMLWriter.attribute","XMLWriter.attribute","XMLWriter.attribute","XMLWriter.attribute","XMLWriter.attribute","XMLWriter.closeTag","Structure.nrModels","Structure.size","Structure.getChainByIndex","XMLWriter.openTag","XMLWriter.attribute","Chain.getId","Structure.nrModels","XMLWriter.attribute","Chain.getAtomLength","Chain.getAtomGroup","XMLWriter.openTag","XMLWriter.attribute","Group.getPDBName","XMLWriter.attribute","Group.getType","XMLWriter.attribute","Group.getResidueNumber","Group.getAtoms","List<Atom>.size","List<Atom>.get","XMLWriter.openTag","XMLWriter.attribute","Atom.getPDBserial","XMLWriter.attribute","XMLWriter.attribute","Atom.getX","XMLWriter.attribute","Atom.getY","XMLWriter.attribute","Atom.getZ","XMLWriter.closeTag","XMLWriter.closeTag","XMLWriter.closeTag"],"method_name":"FileConvert.toDASStructure","method_implementation":"{\n    /*xmlns=\"http://www.sanger.ac.uk/xml/das/2004/06/17/dasalignment.xsd\" xmlns:align=\"http://www.sanger.ac.uk/xml/das/2004/06/17/alignment.xsd\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema-instance\" xsd:schemaLocation=\"http://www.sanger.ac.uk/xml/das/2004/06/17/dasalignment.xsd http://www.sanger.ac.uk/xml/das//2004/06/17/dasalignment.xsd\"*/\n    if (structure == null) {\n        System.err.println(\"can not convert structure null\");\n        return;\n    }\n    PDBHeader header = structure.getPDBHeader();\n    xw.openTag(\"object\");\n    xw.attribute(\"dbAccessionId\", structure.getPDBCode());\n    xw.attribute(\"intObjectId\", structure.getPDBCode());\n    // missing modification date\n    DateFormat dateFormat = new SimpleDateFormat(\"dd-MMM-yy\", Locale.US);\n    String modificationDate = dateFormat.format(header.getModDate());\n    xw.attribute(\"objectVersion\", modificationDate);\n    xw.attribute(\"type\", \"protein structure\");\n    xw.attribute(\"dbSource\", \"PDB\");\n    xw.attribute(\"dbVersion\", \"20070116\");\n    xw.attribute(\"dbCoordSys\", \"PDBresnum,Protein Structure\");\n    // do we need object details ???\n    xw.closeTag(\"object\");\n    // do for all models\n    for (int modelnr = 0; modelnr < structure.nrModels(); modelnr++) {\n        // do for all chains:\n        for (int chainnr = 0; chainnr < structure.size(modelnr); chainnr++) {\n            Chain chain = structure.getChainByIndex(modelnr, chainnr);\n            xw.openTag(\"chain\");\n            xw.attribute(\"id\", chain.getId());\n            if (structure.nrModels() > 1) {\n                xw.attribute(\"model\", Integer.toString(modelnr + 1));\n            }\n            //do for all groups:\n            for (int groupnr = 0; groupnr < chain.getAtomLength(); groupnr++) {\n                Group gr = chain.getAtomGroup(groupnr);\n                xw.openTag(\"group\");\n                xw.attribute(\"name\", gr.getPDBName());\n                xw.attribute(\"type\", gr.getType().toString());\n                xw.attribute(\"groupID\", gr.getResidueNumber().toString());\n                // do for all atoms:\n                //Atom[] atoms  = gr.getAtoms();\n                List<Atom> atoms = gr.getAtoms();\n                for (int atomnr = 0; atomnr < atoms.size(); atomnr++) {\n                    Atom atom = atoms.get(atomnr);\n                    xw.openTag(\"atom\");\n                    xw.attribute(\"atomID\", Integer.toString(atom.getPDBserial()));\n                    xw.attribute(\"atomName\", formatAtomName(atom));\n                    xw.attribute(\"x\", Double.toString(atom.getX()));\n                    xw.attribute(\"y\", Double.toString(atom.getY()));\n                    xw.attribute(\"z\", Double.toString(atom.getZ()));\n                    xw.closeTag(\"atom\");\n                }\n                xw.closeTag(\"group\");\n            }\n            xw.closeTag(\"chain\");\n        }\n    }\n    if (doPrintConnections()) {\n        // not supported anymore since 5.0\n    }\n}","repo_id":"9","comment":"/**\n * Convert a protein Structure to a DAS Structure XML response .\n * Since 5.0, bond (CONECT records) information is not supported anymore.\n * @param xw  a XMLWriter object\n * @throws IOException ...\n */\n","repo_name":"biojava-master/","id":1158,"method_signature":"void toDASStructure(XMLWriter)"}