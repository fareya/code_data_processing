{"callee_method_names":["File.isDirectory","File.exists","File.toPath","Path.resolve","File.getName","Logger.error"],"method_name":"ZipChemCompProvider.addToZipFileSystem","method_implementation":"{\n    boolean ret = false;\n    /* URIs in Java 7 cannot have spaces, must use Path instead\n         * and so, cannot use the properties map to describe need to create\n         * a new zip archive.  ZipChemCompProvider.initilizeZip to creates the\n         * missing zip file */\n    /*\n\t\t// convert the filename to a URI\n\t\tString uriString = \"jar:file:\" + zipFile.toUri().getPath();\n\t\tfinal URI uri = URI.create(uriString);\n\n\t\t// if filesystem doesn't exist, create one.\n\t\tfinal Map<String, String> env = new HashMap<>();\n\t\t// Create a new zip if one isn't present.\n\t\tif (!zipFile.toFile().exists()) {\n\t\t\tSystem.out.println(\"Need to create \" + zipFile.toString());\n\t\t}\n\t\tenv.put(\"create\", String.valueOf(!zipFile.toFile().exists()));\n\t\t// Specify the encoding as UTF -8\n\t\tenv.put(\"encoding\", \"UTF-8\");\n\t\t*/\n    // Copy in each file.\n    // Don't remove the (ClassLoader) cast! It is required for openjdk 11.\n    try (FileSystem zipfs = FileSystems.newFileSystem(zipFile, (ClassLoader) null)) {\n        Files.createDirectories(pathWithinArchive);\n        for (File f : files) {\n            if (!f.isDirectory() && f.exists()) {\n                Path externalFile = f.toPath();\n                Path pathInZipFile = zipfs.getPath(pathWithinArchive.resolve(f.getName()).toString());\n                Files.copy(externalFile, pathInZipFile, StandardCopyOption.REPLACE_EXISTING);\n            }\n        }\n        ret = true;\n    } catch (IOException ex) {\n        s_logger.error(\"Unable to add entries to Chemical Component zip archive : {}\", ex.getMessage());\n        ret = false;\n    }\n    return ret;\n}","repo_id":"9","comment":"/**\n * Add an array of files to a zip archive.\n * Synchronized to prevent simultaneous reading/writing.\n *\n * @param zipFile is a destination zip archive\n * @param files is an array of files to be added\n * @param pathWithinArchive is the path within the archive to add files to\n * @return true if successfully appended these files.\n */\n","repo_name":"biojava-master/","id":1081,"method_signature":"boolean addToZipFileSystem(Path, File[], Path)"}