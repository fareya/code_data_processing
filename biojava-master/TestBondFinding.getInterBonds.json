{"callee_method_ids":[641,638,1330,1322,1095],"callee_method_names":["AtomCache.setFiletype","AtomCache.setFetchBehavior","AtomCache.getFileParsingParams","FileParsingParameters.setCreateAtomBonds","FileParsingParameters.setAlignSeqRes","FileParsingParameters.setParseBioAssembly","DownloadChemCompProvider.checkDoFirstInstall","AtomCache.setFileParsingParams","Structure.getChains","Chain.getAtomGroups","Chain.getAtoms","Block.getBonds","Block.getBonds","Chain.getOther","List<Atom>.indexOf","List<Atom>.size"],"method_name":"TestBondFinding.getInterBonds","method_implementation":"{\n    // Download parameters\n    AtomCache cache = new AtomCache();\n    cache.setFiletype(StructureFiletype.CIF);\n    cache.setFetchBehavior(FetchBehavior.FETCH_FILES);\n    FileParsingParameters params = cache.getFileParsingParams();\n    params.setCreateAtomBonds(true);\n    params.setAlignSeqRes(true);\n    params.setParseBioAssembly(true);\n    DownloadChemCompProvider dcc = new DownloadChemCompProvider();\n    ChemCompGroupFactory.setChemCompProvider(dcc);\n    dcc.checkDoFirstInstall();\n    cache.setFileParsingParams(params);\n    StructureIO.setAtomCache(cache);\n    // Get the structure\n    Structure newStruc = StructureIO.getStructure(pdbId);\n    int counter = 0;\n    // Loop through the atoms and count the bonds\n    for (Chain c : newStruc.getChains()) {\n        for (Group g : c.getAtomGroups()) {\n            List<Atom> theseAtoms = g.getAtoms();\n            for (Atom a : theseAtoms) {\n                List<Bond> theseBonds = a.getBonds();\n                if (theseBonds != null) {\n                    for (Bond b : a.getBonds()) {\n                        Atom other = b.getOther(a);\n                        int indexOther = theseAtoms.indexOf(other);\n                        // Check if the index is within the group\n                        if (indexOther < 0 || indexOther >= theseAtoms.size()) {\n                            counter++;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return counter;\n}","repo_id":"9","comment":"/**\n * Find all of the inter group bonds in a structure.\n *\n * @param pdbId the pdb id of the structure to determine\n * @return the number of inter group bonds (double counted) in a structure\n * @throws IOException\n * @throws StructureException\n */\n","repo_name":"biojava-master/","id":2265,"method_signature":"int getInterBonds(String)"}